<html>

<head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width,
                                        initial-scale=1">
        <title>cube</title>
        <link href="bulmaswatch.min.css" rel="stylesheet">
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
        <script type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/zepto/1.2.0/zepto.min.js"></script>
        <style>
                td {
                        vertical-align: inherit !important;
                }
        </style>
</head>

<body >
        <section class="section content">

        <div class="columns is-centered">
                <div class="column is-half">
                        <table class="table is-fullwidth has-background-grey-darker ">
                                <tbody>

                                <tr>
                                        <td><h3>6</h3></td>
                                        <td>
                                                <div id="6" style="height:80px; width:120px"></div>
                                        </td>
                                        <td><div  class="disc"></div></td>
                                </tr>
                                <tr>
                                        <td><h3>7</h3></td>
                                        <td>
                                                <div id="7" style="height:80px; width:120px"></div>
                                        </td>
                                        <td class="disc"></td>
                                </tr>
                                <tr>
                                        <td><h3>8</h3></td>
                                        <td>
                                                <div id="8" style="height:80px; width:120px"></div>
                                        </td>
                                        <td class="disc"></td>
                                </tr>
                                <tr>
                                        <td><h3>9</h3></td>
                                        <td>
                                                <div id="9" style="height:80px; width:120px"></div>
                                        </td>
                                        <td class="disc"></td>
                                </tr>
                                <tr>
                                        <td><h3>10</h3></td>
                                        <td>
                                                <div id="10" style="height:80px; width:120px"></div>
                                        </td>
                                        <td class="disc"></td>
                                </tr>
                        </tbody>

                        </table>
                </div>
                <div class="column is-half">
                        <table class="table is-fullwidth has-background-grey-darker ">
                                <tbody>
                                        <td><h3>1</h3></td>
                                        <td>
                                                <div id="1" style="height:80px; width:120px"></div>
                                        </td>
                                        <td class="disc"></td>
                                </tr>
                                <tr>
                                        <td><h3>2</h3></td>
                                        <td>
                                                <div id="2" style="height:80px; width:120px"></div>
                                        </td>
                                        <td class="disc"></td>
                                </tr>
                                <tr>
                                        <td><h3>3</h3></td>
                                        <td>
                                                <div id="3" style="height:80px; width:120px"></div>
                                        </td>
                                        <td class="disc"></td>
                                </tr>
                                <tr>
                                        <td><h3>4</h3></td>
                                        <td>
                                                <div id="4" style="height:80px; width:120px"></div>
                                        </td>
                                        <td class="disc"></td>
                                </tr>
                                <tr>
                                        <td><h3>5</h3></td>
                                        <td>
                                                <div id="5" style="height:80px; width:120px"></div>
                                        </td>
                                        <td class="disc"></td>
                                </tr>
                        </tbody>
                        </table>
                </div>
        </div>

        </section>

</body>
<script>

        for (var i = 0; i < 10; i++) { getJSON(i + 1) }

        function splitData(rawData) {
                var value = [];
                var date = [];

                for (var i = 0; i < rawData.length; i++) {
                        value.push(rawData[i]);
                        date.push(i);
                }
                return {
                        value: value,
                        date: date,
                }
        }


        function getJSON(id) {
                $.getJSON(id + ".json",
                        function (result) {
                                var cubeData = splitData(result.close);
                                console.log(cubeData.value)
                                option = {
                                        animation: false,
                                        backgroundColor:"",
                                        xAxis: {
                                                show: false,
                                                data: cubeData.date
                                        },
                                        yAxis: {
                                                show: false,
                                                scale: true
                                        },
                                        visualMap: {
                                                show: false,
                                                dimension: 0,
                                                pieces: [
                                                        {
                                                                lte: 40,
                                                                color: cubeData.date[cubeData.date.length - 1] / cubeData.date[0] - 1 > 0 ? '#880000' : '#008e5f'
                                                        },
                                                        {
                                                                gt: 40,
                                                                lte: 60,
                                                                color: cubeData.date[cubeData.date.length - 1] / cubeData.date[0] - 1 > 0 ? 'red' : 'green'
                                                        }
                                                ]
                                        },
                                        series: [
                                                {
                                                        type: 'line',
                                                        data: cubeData.value,
                                                        symbol: 'none'
                                                }

                                        ]
                                };
                                let ecdom=document.getElementById(id)
                                echarts.init(ecdom, "dark").setOption(option);
                                ecdom.parentNode.parentNode.getElementsByClassName("disc")[0].innerHTML='<div class="has-text-white">'+result.line1+"</div>"+"<div>"+result.line2+"</div>"+"<div>"+result.line3+"</div>"
                        })
        }
</script>

</html>