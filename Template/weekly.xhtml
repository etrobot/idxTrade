<html>

<head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width,
                                initial-scale=1">
        <title>cube</title>
        <link href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css" rel="stylesheet">
        <style>
                @media (prefers-color-scheme: dark) {}

                .bgc {
                        background-color: #25262a;
                }
        </style>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
        <script type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/zepto/1.2.0/zepto.min.js"></script>
</head>

<body class="bgc has-text-white-ter" data-new-gr-c-s-check-loaded="14.1073.0" data-gr-ext-installed="">
        <div class="columns is-gapless is-centered">
                <div class="column is-three-fifth">
                        <article class="section">
                                <h1>2022/08/05 组合月收益5.6% 累计收益11.95%</h1>
                                <br>
                                <div id="AAPL" style="height: 20rem;">
                                </div>
                                <p></p>
                        </article>
                </div>
                <div class="column">
                        <br>
                        <article class="section">
                                <table class="table" border="1" class="dataframe">
                                        <thead>
                                                <tr style="text-align: right;">
                                                        <th>股票代码</th>
                                                        <th>企业名称</th>
                                                        <th>持仓百分比</th>
                                                </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>MPC</td>
                                                        <td>马拉松原油</td>
                                                        <td>22.39</td>
                                                </tr>
                                                <tr>
                                                        <td>HMHC</td>
                                                        <td>霍顿米夫林夏</td>
                                                        <td>21.05</td>
                                                </tr>
                                                <tr>
                                                        <td>MNDT</td>
                                                        <td>Mandiant</td>
                                                        <td>21.60</td>
                                                </tr>
                                                <tr>
                                                        <td>CDK</td>
                                                        <td>CDK Global</td>
                                                        <td>17.63</td>
                                                </tr>
                                                <tr>
                                                        <td>MOS</td>
                                                        <td>美国美盛公司</td>
                                                        <td>15.45</td>
                                                </tr>
                                        </tbody>
                                </table>
                                <table class="table" border="1" class="dataframe">
                                        <thead>
                                                <tr style="text-align: right;">
                                                        <th>股票代码</th>
                                                        <th>企业名称</th>
                                                        <th>调仓前</th>
                                                        <th>目标仓位</th>
                                                </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>KBR</td>
                                                        <td>KBR工程</td>
                                                        <td>17.9</td>
                                                        <td>0.00</td>
                                                </tr>
                                                <tr>
                                                        <td>CDK</td>
                                                        <td>CDK Global</td>
                                                        <td>0.0</td>
                                                        <td>16.67</td>
                                                </tr>
                                        </tbody>
                                </table>
                        </article>
                </div>
        </div>


</body>
<script>
        var names = ['AAPL'];

        for (var i = 0; i < names.length; i++) { getJSON(names[i]) }

        function splitData(rawData) {
                var value = [];
                var date = [];

                for (var i = 0; i < rawData.length; i++) {
                        value.push(rawData[i]);
                        date.push(i);
                }
                return {
                        value: value,
                        date: date,
                }
        }


        function getJSON(id) {
                $.getJSON(id + ".json",
                        function (result) {
                                console.log(result)
                                var cubeData = splitData(result.close);
                                console.log(cubeData.value)
                                option = {
                                        xAxis: {
                                                data:cubeData.date
                                        },
                                        yAxis: {
                                                type: 'value',
                                                axisLabel: {
                                                        formatter: '{value} W'
                                                },
                                                axisPointer: {
                                                        snap: true
                                                }
                                        },
                                        visualMap: {
                                                show: false,
                                                dimension: 0,
                                                pieces: [
                                                        {
                                                                lte: 40,
                                                                color: 'red'
                                                        },
                                                        {
                                                                gt: 40,
                                                                lte:60,
                                                                color: 'green'
                                                        }
                                                ]
                                        },
                                        series: [
                                                {
                                                        name: 'Electricity',
                                                        type: 'line',
                                                        data:cubeData.value,
                                                }
                                        ]
                                };
                                echarts.init(document.getElementById(id), "dark").setOption(option)
                        })
        }
</script>

</html>